# -----------------------------------------------
# Submitted By: Reid Santiago
# Homework Number: Final Project
# Credit to:
#      <Name or names>
#
# Submitted On: <Date>
#
# By submitting this program with my name,
# I affirm that the creation and modification
# of this program is primarily my own work.
# ------------------------------------------------

from turtle import *
import random
maxracers = 4
minracers = 1
minspeed = 1
topspeed = 10
speedway = 90

def password():
    passcode = ""

    print("Enter password to access race.")
    
    while passcode != "Racer101":
        passcode = input("Password: ")
        
        if passcode != "Racer101":
                print("Incorrect password.")

    if passcode == "Racer101":
        print("Welcome, racer.")
        main()

def main():
    competitors = [[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]
    standing = [0,0,0,0]
    standingnum = ['','','','']
    racerimport(competitors)
    racelive(standing, standingnum, competitors)
    standingsort(standing,standingnum)
    scoreboard(standing,standingnum)
    carpath(standing,standingnum)


def racerimport(competitors):
    pycar_text = open('pycar.txt.','r')

    for counter in range(maxracers):
        competitors[counter] = (pycar_text.readline()).split()

        

def racelive(standing, standingnum, competitors):
    end = 0

    while (end == 0):
        randomracer = random.randint(minracers-1, maxracers-1)
        speed = random.randint(minspeed, topspeed)
        standing[randomracer] += speed
        standingnum[randomracer] = competitors[randomracer][0]
        print(standing[randomracer],standingnum[randomracer])
        if standing[randomracer] >= speedway:
            end = 1
            print(standing[randomracer], randomracer)

def standingsort(standing, standingnum):
    for i in range(maxracers):
        for j in range(i + 1, maxracers):
            if(standing[i] < standing[j]):
                holdplace = standing[i]
                holdplacenum = standingnum[i]
                standing[i] = standing[j]
                standingnum[i] = standingnum[j]
                standing[j] = holdplace
                standingnum[j] = holdplacenum

def scoreboard(standing,standingnum):
    final_score = open('pyraceresult.txt.','w')
    for i in range(maxracers):
        final_score.write(standingnum[i] + ' #' + str(i+1)+'\n')

def carpath(standing,standingnum):
    for i in range(maxracers):
        print(standing[i] + ' ', end = '')
        for j in range(standing[i]):
            print('*', end = '')


password()
main()
